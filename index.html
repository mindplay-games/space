<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MindPlay – הרפתקת פייתון</title>
  <link rel="stylesheet" href="style.css"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

  <div class="game">
    <!-- TOP BAR -->
    <header class="topbar">
      <div class="brand">
        <h1>MindPlay – הרפתקת פייתון</h1>
      </div>

      <div class="chapter-line">
        <span id="chapterTitle">פרק 1</span>
        <span id="levelCounter">שלב 1/6</span>
      </div>

      <div class="progress-wrap" aria-label="progress">
        <div id="progressBar" class="progress-bar"></div>
      </div>
    </header>

    <!-- STORY / DIALOGUE CARD -->
    <section class="story-card">
      <div class="story-icon" id="storyIcon">✨</div>

      <div class="story-content">
        <!-- Dialogue block -->
        <div id="characterRow" class="character-row hidden">
          <img id="characterAvatar" class="character-avatar" src="" alt="" />
          <div class="character-bubble">
            <div id="characterName" class="character-name"></div>
            <div id="characterText" class="character-text"></div>
          </div>
        </div>

        <!-- Narrator/story line -->
        <p id="story" class="story-text">טוען סיפור...</p>
      </div>
    </section>

    <!-- ✅ כפתור המשך לדיאלוגים (גלובלי) -->
    <div class="dialogue-actions">
      <button id="dialogueNextBtn" class="hidden">המשך ➜</button>
    </div>

    <!-- MCQ – משימת כישוף -->
    <section id="mcqBox" class="question-box hidden">
      <div class="challenge-header">
        <div class="challenge-label">משימת כישוף</div>
        <!-- כאן יופיע משפט הסיפור של השלב -->
        <div id="challengeStory" class="challenge-story"></div>
      </div>

      <p id="question">טוען שאלה...</p>
      <div id="answers" class="answers"></div>

      <div class="actions">
        <button id="hintBtn" class="ghost">רמז 💡</button>
        <button id="nextBtn" class="hidden">לשלב הבא ➜</button>
      </div>
    </section>

    
    <!-- CODE (תשובה פתוחה, שורת קוד אחת) -->
    <section id="codeBox" class="question-box hidden">
      <div class="challenge-header">
        <div class="challenge-label">משימת קוד</div>
      </div>

      <p id="codePrompt"></p>
      <input
        id="codeInput"
        class="code-input"
        placeholder="כתוב/כתבי כאן שורת קוד אחת..."
      />

      <div class="actions">
        <button id="runCodeBtn">בדוק ✅</button>
        <button id="nextFromCodeBtn" class="hidden">לשלב הבא ➜</button>
      </div>
    </section>

    <!-- DRAG -->
    <section id="dragBox" class="question-box hidden">
      <p id="dragPrompt"></p>

      <div class="drag-area">
        <div>
          <div class="drag-title">חלקים לגרירה</div>
          <div id="dragItems" class="drag-items"></div>
        </div>

        <div>
          <div class="drag-title">סדר נכון</div>
          <div id="dragTarget" class="drag-target"></div>
        </div>
      </div>

      <div class="actions">
        <button id="checkDragBtn">בדוק ✅</button>
        <button id="nextFromDragBtn" class="hidden">לשלב הבא ➜</button>
      </div>
    </section>

    <!-- FEEDBACK -->
    <p id="feedback"></p>
  </div>

  <audio id="sndCorrect" src="assets/correct.wav" preload="auto"></audio>
  <audio id="sndWrong" src="assets/wrong.wav" preload="auto"></audio>
  <audio id="sndMagic" src="assets/magic.wav" preload="auto"></audio>
  <audio id="sndClick" src="assets/click.wav" preload="auto"></audio>
  <audio id="sndDialogue" src="assets/dialogue.wav" preload="auto"></audio>

  <script src="game.js"></script>
</body>
</html>
